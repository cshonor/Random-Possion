# 第2章：数字特征

> [← 返回目录](chapter-02-00-index.md) | [上一节：2.1](chapter-02-01-probability-space-and-random-variable.md) | [下一节：2.3](chapter-02-03-joint-distribution.md)

## 2.2 随机变量的数字特征

### 学习要点
- 数学期望（均值）
- 方差和标准差
- 矩（原点矩、中心矩）

### 1 分钟背诵：为什么要拆 `X^+` 和 `X^-`

先定义两个非负部分：

`X^+(ω)=max{X(ω),0}`，`X^-(ω)=max{-X(ω),0}`。

并且恒有：

`X=X^+-X^-`，`|X|=X^++X^-`。

为什么要这样拆？

- 期望（积分）先在“非负函数”上定义最稳妥；
- 一般随机变量有正有负，直接算容易出现 `∞-∞`（无意义）；
- 所以先拆成两个非负项，再定义  
  `E[X]=E[X^+]-E[X^-]`；
- 条件是 `E[X^+]` 和 `E[X^-]` 不能同时为 `∞`。

金融直觉：

- `X^+` 可看成收益腿；
- `X^-` 可看成损失腿（绝对值）；
- 期望 = 期望收益 - 期望损失。

### 随机变量的期望（速记版）

统一定义：

```
E(X) = ∫_Ω X dP = ∫_R x dF(x)
```

### 这两个积分为什么等价（4句速记）

1. `∫_Ω X dP`：在样本空间 `Ω` 上积分，是期望的原始定义。  
2. `∫_R x dF(x)`：把问题推到 `X` 的取值空间 `R` 上，用分布来算。  
3. 两者相等的本质是“分布测度推前”：`μ_X(B)=P(X∈B)`。  
4. 离散变求和、连续变 `∫ x f(x)dx`，只是同一公式的两种展开。

补充严谨点（可做题版）：  
`F(x)` 是分布函数；写 `dF(x)` 时，不是普通微分，而是 **由 `F` 生成的概率测度**（Lebesgue-Stieltjes 意义）。

可记作：

```
μ_F(dx) = dF(x)
```

其中 `dF(x)` 直观上表示“在 `x` 附近的概率增量”。

在积分里：

```
∫ g(x) dF(x)
```

表示“对分布 `F` 求期望/加权平均”，并统一覆盖：

1) 连续型：`dF(x)=f(x)dx`  
2) 离散型：积分退化为求和 `Σ g(x_k)p_k`  
3) 混合型：连续部分 + 跳跃部分同时处理

一句口诀：

- `F(x)`：累计概率
- `dF(x)`：概率测度（概率微元）
- `∫ · dF`：按该分布做加权平均

### 测度论一句话版：为什么能在两个空间里算同一个期望

概率先定义在样本空间 `(Ω,F,P)` 上；  
随机变量 `X` 把测度从 `Ω` 推前到值域，得到分布测度 `μ_X`。  
因此期望既可以在 `Ω` 上积分，也可以在 `R^n` 上对 `μ_X` 积分，二者严格等价。

分布测度定义：

```
μ_X(B) = P(X∈B) = P(X^{-1}(B)),   B ∈ B(R^n)
```

期望的两种等价写法（LOTUS）：

```
E[g(X)] = ∫_Ω g(X(ω)) dP(ω)
        = ∫_{R^n} g(x) dμ_X(x)
```

一句话记忆：  
定义在左边（样本空间），计算可转到右边（值域分布）。

其中：

- `P` 是概率测度
- `F(x)` 是随机变量 `X` 的分布函数

常用两种计算形式：

1) 离散型随机变量（d.r.v.）

```
E(X) = Σ_x x P(X=x)
```

2) 连续型随机变量（c.r.v.）

```
E(X) = ∫_R x f(x) dx
```

一句工科直觉：  
期望就是“按概率加权平均”；离散用求和，连续用积分。

### 定理：变量变换下的期望（LOTUS）速记

若 `g` 是可测函数，则：

```
E[g(X)] = ∫ g(x) dF_X(x)
```

多维情形（`X=(X1,...,Xn)`）：

```
E[g(X)] = ∫_{R^n} g(x1,...,xn) dF_X(x1,...,xn)
```

例子1（一维，掷骰）：

设 `X` 为一次公平掷骰点数，取 `g(x)=x^2`，则

```
E[g(X)] = E[X^2]
       = Σ_{x=1}^6 x^2 P(X=x)
       = (1^2+2^2+3^2+4^2+5^2+6^2)/6
       = 91/6
```

例子2（二维，均匀分布）：

设 `X=(X1,X2)`，其中 `X1, X2` 独立且都服从 `U(0,1)`，取 `g(x1,x2)=x1+x2`，则

```
E[g(X)] = E[X1+X2] = E[X1]+E[X2] = 1/2 + 1/2 = 1
```

写成积分也是：

```
E[g(X)] = ∫_0^1∫_0^1 (x1+x2) dx1 dx2 = 1
```

离散/连续常用展开：

- 离散：`E[g(X)] = Σ_x g(x) P(X=x)`
- 连续：`E[g(X)] = ∫ g(x) f_X(x) dx`

3 行理解：

1. 先给随机变量做变换：`Y=g(X)`
2. 期望要算的是 `E(Y)=E[g(X)]`
3. 不必先单独求 `Y` 的分布，直接对 `X` 的分布加权平均

掷骰小例子（离散）：

设 `X` 为一次掷骰点数（1~6 等概率），取 `g(x)=x^2`，则

```
E[g(X)] = E[X^2] = (1^2+2^2+3^2+4^2+5^2+6^2)/6 = 91/6
```

### 金融应用
- 期望收益率
- 风险度量（波动率）

### 待补内容
- [ ] 例题练习
- [ ] 代码实现

---

